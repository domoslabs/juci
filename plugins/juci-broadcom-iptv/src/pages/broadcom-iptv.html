<juci-layout-with-sidebar>
	<div ng-controller="PageBroadcomIptv">
		<juci-config-heading>{{"IPTV Configuration"|translate}}</juci-config-heading>
		<div class="alert alert-info" ng-show="loaded && !mcpd" translate>No mcpd configuration found!</div>
		<juci-config-section ng-show="loaded && mcpd">
			<juci-config-lines>
				<juci-config-line title="{{ 'Differentiated Services Code Point (DSCP)' | translate }}" help="{{ 'Will be used to mark all outgoing IGMP packets' | translate}}">
					<juci-select ng-items="DSCP" ng-model="mcpd.igmp_dscp_mark.value"></juci-select>
				</juci-config-line>
				<juci-config-line title="{{ 'Proxy interface' | translate}}">
					<dropdown-multi-select input-model="networks.wan" output-model="networks.selected_wan" 
						button-label="name" item-label="name" tick-property="ticked"></dropdown-mult-select>
				</juci-config-line>
				<juci-config-line title="{{ 'Default version' | translate }}" help="{{ 'Choose default version from list' | translate}}">
					<juci-select ng-items="default_version" ng-model="mcpd.igmp_default_version.value"></juci-select>
				</juci-config-line>
				<juci-config-line title="{{ 'Query interval' | translate }}">
					<input class="form-control" type="number" ng-model="mcpd.igmp_query_interval.value"/>
				</juci-config-line>
				<juci-config-line title="{{ 'Query response interval' | translate }}">
					<input class="form-control" type="number" ng-model="mcpd.igmp_query_response_interval.value"/>
				</juci-config-line>
				<juci-config-line title="{{ 'Last member query interval' | translate }}">
					<input class="form-control" type="number" ng-model="mcpd.igmp_last_member_query_interval.value"/>
				</juci-config-line>
				<juci-config-line title="{{ 'Robustness value' | translate }}">
					<input type="number" class="form-control" ng-model="mcpd.igmp_robustness_value.value"/>
				</juci-config-line>
				<juci-config-line title="{{ 'LAN to LAN multicast' | translate }}" help="{{'Check box to enable LAN to LAN multicast'|translate}}">
					<switch class="green" ng-model="mcpd.igmp_lan_to_lan_multicast.value"/>
				</juci-config-line>
				<juci-config-line title="{{ 'Max groups' | translate }}">
					<input type="number" class="form-control" ng-model="mcpd.igmp_max_groups.value"/>
				</juci-config-line>
				<juci-config-line title="{{ 'Max sources' | translate }}">
					<input type="number" class="form-control" ng-model="mcpd.igmp_max_sources.value"/>
				</juci-config-line>
				<juci-config-line title="{{ 'Max members' | translate }}">
					<input type="number" class="form-control" ng-model="mcpd.igmp_max_members.value"/>
				</juci-config-line>
				<juci-config-line title="{{ 'Fast leave' | translate }}">
					<switch class="green" ng-model="mcpd.igmp_fast_leave.value"/>
				</juci-config-line>
				<juci-config-line title="{{ 'Join immediate' | translate }}">
					<switch class="green" ng-model="mcpd.igmp_join_immediate.value"/>
				</juci-config-line>
				<juci-config-line title="{{ 'Enable IGMP proxy' | translate }}">
					<switch class="green" ng-model="mcpd.igmp_proxy_enable.value"/>
				</juci-config-line>
				<juci-config-line title="{{'Ignore SSM Range'|translate}}" help="{{'Check box to ignore SSM RFC to enable regular multicast on SSM-Range'|translate}}">
					<switch class="green" ng-model="mcpd.igmp_ssm_range_ignore.value" />
				</juci-config-line>
				<juci-config-line title="{{ 'IGMP snooping mode' | translate }}">
					<juci-select ng-items="snooping_mode" ng-model="mcpd.igmp_snooping_enable.value"></juci-select>
				</juci-config-line>
				<juci-config-line title="{{ 'IGMP snooping interfaces' | translate }}">
					<dropdown-multi-select input-model="networks.lan" output-model="networks.selected_lan" 
						button-label="name" item-label="name" tick-property="ticked"></dropdown-multi-select>
				</juci-config-line>
				<juci-config-line title="{{'Snooping Exceptions'|translate}}">
					<div class="col-xs-12 form-group" ng-repeat="entry in mcpd.igmp_mcast_snoop_exceptions.value track by $index">
						<div class="col-sm-10">
							<input type="text" class="form-control" ng-disabled="true" ng-model="entry" />
						</div>
						<div class="col-sm-2">
							<button style="margin-right:0px;" class="btn btn-default pull-right" ng-click="onRemoveIp(entry, $index)"><i
									class="fa fa-trash-o"></i></button>
						</div>
					</div>
					<div class="col-xs-12 form-group">
						<div class="col-sm-10">
							<input type="text" class="form-control" ng-model="McastIp"
								placeholder="{{'Multicast Address'|translate}}" />
							<juci-error value="McastIpErr" />
						</div>
						<div class="col-sm-2">
							<button style="margin-right:0px;" class="btn btn-default pull-right"
								ng-click="onAddIp(McastIp, $index)">Add</button>
						</div>
					</div>
				</juci-config-line>
			</juci-config-lines>
		</juci-config-section>
	</div>
</juci-layout-with-sidebar>
