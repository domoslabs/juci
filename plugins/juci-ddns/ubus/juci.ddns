#!/bin/sh

. /usr/share/libubox/jshn.sh

case "$1" in
	list)
		echo '{ "providers" : {} }'
	;;
	call)
		case "$2" in
			providers)
				json_init
				json_add_array "providers"
				for service in $(cat /usr/lib/ddns/services | awk '{print$1}' | tr -d '"'); do
					json_add_string "" "$service"
				done
				json_dump
			;;
		esac
	;;
esac
